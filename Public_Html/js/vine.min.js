//     vine.js 0.0.1 -- by @jsvine
//     https://github.com/jsvine/vinejs
//     vine.js may be freely distributed under the MIT license.
((function(a){var b=this,c=b.Vine,d={VERSION:"0.0.1"},e="vine.co/v/",f="http://search.twitter.com/search.json",g={q:undefined,callback:undefined,geocode:undefined,lang:undefined,locale:undefined,page:undefined,result_type:"recent",rpp:100,show_user:undefined,until:undefined,since_id:undefined,max_id:undefined,include_entities:!0},h=function(a){this.raw=a};h.prototype={parse:function(){var b=this.raw,c=a.map(b.entities.urls,function(a){return a.expanded_url.split("//")[1].indexOf("vine.co/v/")>-1?a:null})[0];return c?(this.url=c.expanded_url,this.card=this.url+"/card",this.tweet={user:b.from_user,user_name:b.from_user_name,text:b.text,created_at:b.created_at},this):null}};var i=function(b,c,d){return this.opts=b,b=toString.call(b)=="[object String]"?{q:b}:b||{},search_params=a.extend({},g,b),search_params.q=search_params.q?e+" AND ("+search_params.q+")":e,this.search_params=search_params,c&&this.fetch(c,d),this};i.prototype={fetch:function(c,d){var e=this,g=b.location?!0:!1,i=a.ajax({url:f+(g?"?callback=?":""),type:"GET",dataType:g?"jsonp":"json",timeout:g?this.timeout||3e3:undefined,data:this.search_params,success:function(b){e.raw=b,e.results=a.map(b.results,function(a){return(new h(a)).parse()}),c.call(e)},error:d});return this}},d.Result=h,d.Search=i,d.noConflict=function(){return b.Vine=c,d},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=d),exports.Vine=d):b.Vine=d})).call(this,this.jQuery||require("jquery"));